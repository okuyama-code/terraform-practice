# AWS用語
### ビットとビット数
ビット（Bit）:
ビットは、デジタル情報の最小単位です。「Binary digit」（二進数字）の略で、0か1の値のみを取ります。
ビットの特徴:

二進法の基礎: コンピュータが情報を処理する際の基本単位です。
2つの状態: オン/オフ、真/偽、はい/いいえなどの2つの状態を表現します。
デジタルデータの構成要素: すべてのデジタルデータは、最終的にビットの組み合わせで表現されます。

ビット数:
ビット数は、特定のデータや値を表現するために使用されるビットの数を指します。
ビット数の重要性:

データ容量: より多くのビット数を使用することで、より多くの情報を表現できます。
精度: 数値表現において、ビット数が多いほど高精度になります。
アドレス空間: IPアドレスやメモリアドレスなどで、ビット数はアドレス可能な範囲を決定します。

ビット数の例:

8ビット = 1バイト

2^8 = 256 種類の値を表現できます（0～255）


32ビット

IPv4アドレスに使用されます
2^32 ≈ 43億個のユニークなアドレスを表現可能


64ビット

現代のCPUアーキテクチャやオペレーティングシステムで一般的に使用されます
非常に大きな数値や広大なメモリ空間を扱えます



ネットワーキングにおけるビット数の応用:

サブネットマスクやCIDR表記で、ネットワーク部とホスト部を区別する際にビット数が使用されます。
例: 192.168.1.0/24 の "/24" は、最初の24ビットがネットワーク部であることを示します。

ビット数を増やすことの影響:

表現可能な値の範囲が指数関数的に増加します。
データ保存や転送に必要な容量が増加します。
処理時間が長くなる可能性があります。

| 単位名 | 略称 | ビット数 | バイト数 | 説明 | 使用例 |
|--------|------|----------|----------|------|--------|
| ビット | bit | 1 | - | デジタル情報の最小単位。0か1の値を取る。 | ネットワーク速度（例：100Mbps） |
| バイト | B | 8 | 1 | 8ビットで構成される。文字1つを表現できる一般的な単位。 | 1文字のASCIIコード |
| キロバイト | KB | 8,192 | 1,024 | 2^10 バイト。約1千バイト。 | 短いテキストファイル、小さな画像 |
| メガバイト | MB | 8,388,608 | 1,048,576 | 2^20 バイト。約1百万バイト。 | 音楽ファイル（3-5MB）、デジタル写真（1-10MB） |
| ギガバイト | GB | 8,589,934,592 | 1,073,741,824 | 2^30 バイト。約10億バイト。 | 映画ファイル（1-4GB）、スマートフォンのストレージ（64-256GB） |
| テラバイト | TB | 8,796,093,022,208 | 1,099,511,627,776 | 2^40 バイト。約1兆バイト。 | ハードディスクの容量（1-18TB）、大規模データベース |

### CIDR
https://wa3.i-3-i.info/word11990.html

| プレフィックス長 | サブネットマスク | 使用可能IPアドレス数 | ネットワークサイズ |
|-------------------|-------------------|----------------------|---------------------|
| /8  | 255.0.0.0     | 16,777,214 | 非常に大規模 |
| /16 | 255.255.0.0   | 65,534    | 大規模 |
| /24 | 255.255.255.0 | 254       | 一般的な小規模ネットワーク |
| /28 | 255.255.255.240 | 14      | 非常に小規模 |
| /30 | 255.255.255.252 | 2       | ポイントツーポイントリンク |
| /32 | 255.255.255.255 | 1       | 単一ホスト |

CIDR表記
「CIDR表記」って単語が出てきたら「IPアドレスとサブネットマスクを一緒に表記するんだな～」
「198.51.100.xxx/24」のような形で、IPアドレスの後ろにスラッシュと「どのネットワークですよ～」な情報の長さ（サブネットマスクの中にある1の個数）を書く表記方法のこと

サブネットマスクは、IPアドレスをネットワーク部とホスト部に分割するために使用される32ビットの数値です。これにより、どのビットがネットワークを識別し、どのビットがそのネットワーク内の個々のデバイスを識別するかを定義します。

プレフィックス長: スラッシュの後の数字は、ネットワーク部のビット数を示します。
例: /24 は最初の24ビットがネットワーク部であることを意味します。

CIDRの利点:

アドレス空間の効率的な使用
ルーティングテーブルの集約が可能
より細かなサブネット分割が可能

IPアドレスとサブネットマスクの主な違いと関係性：

目的の違い：

IPアドレス：個々のデバイスを識別し、通信の送受信先を指定します。
サブネットマスク：IPアドレスをネットワーク部とホスト部に分割し、ネットワークの範囲を定義します。


機能の違い：

IPアドレス：ネットワーク上の「住所」のような役割を果たします。
サブネットマスク：その「住所」がどの「地域（サブネット）」に属しているかを示します。


設定方法：

IPアドレス：各デバイスに個別に割り当てられます。
サブネットマスク：通常、同じネットワーク内のすべてのデバイスで共通です。


ネットワーク通信での役割：

IPアドレス：パケットの送信元と宛先を指定します。
サブネットマスク：ルーターがパケットをローカルネットワーク内で処理すべきか、外部に転送すべきかを判断するのに使用します。


可変性：

IPアドレス：デバイスごとに異なり、変更可能です（特にDHCPを使用する場合）。
サブネットマスク：ネットワーク設計に基づいて設定され、比較的固定的です。


ネットワーク計算での使用：

両者を組み合わせて使用することで、ネットワークアドレス、ブロードキャストアドレス、使用可能なIPアドレスの範囲を計算できます。


CIDR表記法との関係：

IPアドレスとサブネットマスクは、CIDR表記法（例：192.168.1.0/24）で簡潔に表現できます。


ネットワーク設計への影響：

IPアドレスの割り当て方とサブネットマスクの選択は、ネットワークの規模、セグメンテーション、および効率的なアドレス使用に直接影響します。

IPアドレスとサブネットマスクは、効率的なネットワーク通信とルーティングを可能にするために密接に連携しています。両者の適切な理解と設定は、ネットワーク管理者にとって不可欠なスキルです。

サブネットとは：

定義：サブネットは、大きなネットワークを小さな論理的なセグメントに分割したものです。
目的：ネットワークの管理性、効率性、セキュリティを向上させるために使用します。

サブネットマスクを調整する理由：

ネットワーク管理の効率化：

小さなサブネットに分割することで、各部門や地域ごとに管理しやすくなります。
トラブルシューティングが容易になり、問題の影響範囲を限定できます。


ネットワークトラフィックの最適化：

ブロードキャストドメインを小さくすることで、不要なトラフィックを減らし、ネットワークのパフォーマンスを向上させます。


セキュリティの強化：

サブネット間でアクセス制御を実装しやすくなり、セキュリティポリシーの適用が容易になります。


IPアドレスの効率的な使用：

組織のニーズに合わせて適切なサイズのサブネットを作成し、IPアドレスの無駄を減らせます。


ルーティングの最適化：

サブネット化により、ルーティングテーブルをよりシンプルに保つことができます。


スケーラビリティの向上：

将来の拡張を見越して、適切なサイズのサブネットを計画できます。


ネットワークの論理的分離：

異なる部門や機能ごとにサブネットを分けることで、論理的な分離が可能になります。


パフォーマンスの向上：

小さなサブネットでは、ARP（Address Resolution Protocol）のブロードキャストが減少し、ネットワークの負荷が軽減されます。


コンプライアンス要件への対応：

特定のデータや機能を分離する必要がある場合、サブネット化で対応できます。


地理的な分散への対応：

異なる場所や建物ごとにサブネットを割り当てることで、地理的な構造を反映したネットワーク設計が可能になります。

```
         インターネット
              |
           ルーター
           /     \
   サブネットA   サブネットB
 192.168.1.0/24 192.168.2.0/24
```

### ネットワークスケーラビリティ
スケーラビリティは、システムやネットワークが成長や需要の増加に適応し、効率的に対応できる能力を指します。
```
初期状態:
[クライアント] --- [単一サーバー]

スケールアップ:
[クライアント] --- [強化されたサーバー]

スケールアウト:
           ┌─ [サーバー1]
[クライアント] ─┼─ [サーバー2]
           └─ [サーバー3]

ロードバランサーを使用したスケールアウト:
           ┌─ [サーバー1]
[クライアント] --- [ロードバランサー] ─┼─ [サーバー2]
           └─ [サーバー3]
```

### ARN（Amazon Resource Name）
AWSリソースを一意に識別するための標準化された命名規則
ARNの一般的な形式：
arn:aws:service:region:account-id:resource-type/resource-id
各部分の説明：

arn: - すべてのARNの開始部分
aws: - パーティション（通常はAWS。中国リージョンでは aws-cn: など）
service: - AWSサービス名（例：s3、ec2、iam）
region: - AWSリージョン（例：us-west-2、eu-central-1）
account-id: - AWSアカウントID
resource-type/resource-id - サービス固有のリソース指定

ARNの例：

S3バケット: arn:aws:s3:::my-bucket
IAMユーザー: arn:aws:iam::123456789012:user/johndoe
EC2インスタンス: arn:aws:ec2:us-west-2:123456789012:instance/i-1234567890abcdef0

### IAM ロール
ポリシー(権限)をまとめるIAMロール
IAMロールは複数のポリシーを一つにまとめるられるサービス
IAMロールはポリシーの入れ物


# CORSを設定しない場合の影響

## 1. クロスオリジンリクエストのブロック

最も直接的な影響は、異なるオリジン（ドメイン、プロトコル、ポートの組み合わせ）からのリソースへのアクセスがブラウザによってブロックされることです。

- 例：`https://example.com` でホストされているウェブサイトが、`https://your-s3-bucket.s3.amazonaws.com` にあるリソース（画像、ファイルなど）にアクセスしようとすると、ブラウザがそのリクエストをブロックします。

## 2. セキュリティエラーの発生

ブラウザのコンソールに以下のようなエラーメッセージが表示されます：

```
Access to XMLHttpRequest at 'https://your-s3-bucket.s3.amazonaws.com/image.jpg'
from origin 'https://example.com' has been blocked by CORS policy:
No 'Access-Control-Allow-Origin' header is present on the requested resource.
```

## 3. アプリケーションの機能不全

- クロスオリジンリソースを利用する機能が動作しなくなります。
- 例：S3バケットから画像を読み込むフォトギャラリー機能が使用できなくなる。

## 4. ユーザーエクスペリエンスの低下

- リソースが読み込めないことで、ウェブサイトの見た目や機能が損なわれます。
- ユーザーには、単に「画像が表示されない」「ファイルがダウンロードできない」などの症状として現れます。

## 5. 開発とデバッグの困難

- 開発者にとって、CORSエラーの原因特定と解決が必要になり、開発プロセスが遅延する可能性があります。

## 6. セキュリティリスクの潜在的増加

- CORSを適切に設定しないことで、開発者が代替手段（安全でない方法）を使用してクロスオリジンリソースにアクセスしようとする可能性があります。
- 例：プロキシサーバーの使用やJSONPの利用など、セキュリティリスクを伴う方法を採用してしまう。

## 7. モバイルアプリケーションへの影響

- WebViewを使用するハイブリッドモバイルアプリケーションも、CORSの制限を受ける可能性があります。

## 8. シングルページアプリケーション（SPA）の機能制限

- SPAは特にクロスオリジンリクエストに依存することが多いため、CORSが設定されていないとAPIコールなどの重要な機能が動作しなくなる可能性があります。

## 9. サードパーティサービスとの統合困難

- 外部APIやサービスを利用する際、CORSが適切に設定されていないと、それらのサービスとの統合が困難になります。

## 対策

1. 必要なオリジンに対してCORSを適切に設定する。
2. できるだけ同一オリジンでリソースを提供するアーキテクチャを検討する。
3. サーバーサイドプロキシを使用して、クロスオリジンリクエストを回避する（ただし、これはパフォーマンスに影響を与える可能性があります）。

CORSを適切に設定することで、これらの問題を回避しつつ、必要なクロスオリジンリソース共有を安全に実現できます。


## VPCにおけるアウトバウンドアクセスと0.0.0.0/0ルーティング
はい、VPCにおけるアウトバウンドアクセスと0.0.0.0/0ルーティングについて、より詳しく説明いたします。
アウトバウンドとは：
アウトバウンドトラフィックとは、ネットワーク（この場合はVPC）内部から外部（インターネット）に向かうデータの流れを指します。例えば、VPC内のEC2インスタンスがウェブサイトにアクセスしたり、外部のAPIを呼び出したりする場合、これらはアウトバウンドトラフィックとなります。
VPCにおける0.0.0.0/0ルーティングの役割：

デフォルトルートの設定：

0.0.0.0/0をインターネットゲートウェイにルーティングすることで、VPC内のリソースが特定のルートに一致しない宛先にトラフィックを送信しようとした場合、そのトラフィックはインターネットゲートウェイを通じて外部に送られます。


アウトバウンドアクセスの実現：

この設定により、VPC内のリソース（例：EC2インスタンス）は、インターネット上のあらゆる宛先にアクセスできるようになります。
例えば、ソフトウェアのアップデート、外部APIの利用、ウェブブラウジングなどが可能になります。


柔軟性と拡張性：

0.0.0.0/0ルートを使用することで、個々の外部宛先に対して個別のルートを設定する必要がなくなり、ネットワーク設定が簡素化されます。


双方向通信の基盤：

アウトバウンドアクセスを可能にすることで、リクエスト-レスポンス型の通信（例：HTTPリクエスト）において、VPC内のリソースがリクエストを送信し、それに対する応答を受け取ることができます。

インバウンドトラフィック（外部からVPCへのアクセス）については、別途設定が必要です。


## VPCとサブネットの関係について
VPC（Virtual Private Cloud）の定義：

VPC は、AWS クラウド内にユーザーが定義する仮想ネットワークです。
これは、従来のデータセンターにおける物理的なネットワークの論理的な抽象化と考えることができます。


サブネットの定義：
サブネットは、VPC 内の IP アドレスの範囲です。
VPC の CIDR ブロックを小さな範囲に分割したものがサブネットになります。

VPCのCIDRブロック：

10.0.0.0/16: これは10.0.0.0から10.0.255.255までのIPアドレス範囲を提供します。


サブネットのCIDRブロック：

パブリックサブネット: 10.0.1.0/24 (10.0.1.0から10.0.1.255まで)
プライベートサブネット: 10.0.2.0/24 (10.0.2.0から10.0.2.255まで)



重要なポイント：

サブネットのCIDRブロックはVPCのCIDRブロック内に完全に含まれています。

10.0.1.0/24 と 10.0.2.0/24 は両方とも 10.0.0.0/16 の範囲内にあります。


サブネット同士は重複していません。

パブリックサブネットとプライベートサブネットは異なる範囲を使用しています。


サブネットのプレフィックス長（/24）はVPCのプレフィックス長（/16）よりも大きくなっています。

これにより、サブネットはVPCの一部となります。



なぜこれが重要か：

論理的一貫性：サブネットはVPCの一部であるため、そのIPアドレス範囲もVPCの範囲内である必要があります。
ルーティング：VPC内のルーティングが正しく機能するためには、サブネットのCIDRブロックがVPCのCIDRブロック内にある必要があります。
AWS の要件：AWSは、サブネットのCIDRブロックがVPCのCIDRブロック内に含まれていることを要求します。含まれていない場合、サブネットの作成は失敗します。
ネットワーク設計：この階層構造により、ネットワークを論理的に組織化し、効率的に管理することができます。

注意点：

サブネットのCIDRブロックは、VPCのCIDRブロックの一部であると同時に、他のサブネットと重複してはいけません。
VPCのCIDRブロックを選択する際は、将来の拡張性を考慮して十分な大きさを選択することが重要です。